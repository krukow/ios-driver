package org.uiautomation.ios.ide.pages.begin;

import org.json.JSONException;
import org.json.JSONObject;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;
import org.uiautomation.ios.SampleApps;
import org.uiautomation.ios.exceptions.IOSAutomationException;
import org.uiautomation.ios.ide.views.JSTree;
import org.uiautomation.ios.server.application.IOSApplication;

public class JSTreeTests {


  private final String example =
      "{\"name\":null,\"value\":null,\"children\":[{\"name\":\"UICatalog\",\"value\":null,\"children\":[{\"name\":null,\"value\":null,\"label\":null,\"rect\":{\"origin\":{\"y\":20,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAImage\",\"ref\":\"3\"},{\"name\":\"UICatalog\",\"value\":\"UICatalog\",\"label\":\"UICatalog\",\"rect\":{\"origin\":{\"y\":28,\"x\":112},\"size\":{\"height\":27,\"width\":95}},\"type\":\"UIAStaticText\",\"ref\":\"4\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":20,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIANavigationBar\",\"ref\":\"2\"},{\"name\":\"Empty list\",\"value\":\"rows 1 to 10 of 12\",\"children\":[{\"name\":\"Buttons, Various uses of UIButton\",\"value\":null,\"children\":[{\"name\":\"Buttons, Various uses of UIButton\",\"value\":\"Buttons, Various uses of UIButton\",\"label\":\"Buttons, Various uses of UIButton\",\"rect\":{\"origin\":{\"y\":64,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"7\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":64,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"6\"},{\"name\":\"Controls, Various uses of UIControl\",\"value\":null,\"children\":[{\"name\":\"Controls, Various uses of UIControl\",\"value\":\"Controls, Various uses of UIControl\",\"label\":\"Controls, Various uses of UIControl\",\"rect\":{\"origin\":{\"y\":108,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"9\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":108,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"8\"},{\"name\":\"TextFields, Uses of UITextField\",\"value\":null,\"children\":[{\"name\":\"TextFields, Uses of UITextField\",\"value\":\"TextFields, Uses of UITextField\",\"label\":\"TextFields, Uses of UITextField\",\"rect\":{\"origin\":{\"y\":152,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"11\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":152,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"10\"},{\"name\":\"SearchBar, Use of UISearchBar\",\"value\":null,\"children\":[{\"name\":\"SearchBar, Use of UISearchBar\",\"value\":\"SearchBar, Use of UISearchBar\",\"label\":\"SearchBar, Use of UISearchBar\",\"rect\":{\"origin\":{\"y\":196,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"13\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":196,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"12\"},{\"name\":\"TextView, Use of UITextField\",\"value\":null,\"children\":[{\"name\":\"TextView, Use of UITextField\",\"value\":\"TextView, Use of UITextField\",\"label\":\"TextView, Use of UITextField\",\"rect\":{\"origin\":{\"y\":240,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"15\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":240,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"14\"},{\"name\":\"Pickers, Uses of UIDatePicker, UIPickerView\",\"value\":null,\"children\":[{\"name\":\"Pickers, Uses of UIDatePicker, UIPickerView\",\"value\":\"Pickers, Uses of UIDatePicker, UIPickerView\",\"label\":\"Pickers, Uses of UIDatePicker, UIPickerView\",\"rect\":{\"origin\":{\"y\":284,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"17\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":284,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"16\"},{\"name\":\"Images, Use of UIImageView\",\"value\":null,\"children\":[{\"name\":\"Images, Use of UIImageView\",\"value\":\"Images, Use of UIImageView\",\"label\":\"Images, Use of UIImageView\",\"rect\":{\"origin\":{\"y\":328,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"19\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":328,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"18\"},{\"name\":\"Web, Use of UIWebView\",\"value\":null,\"children\":[{\"name\":\"Web, Use of UIWebView\",\"value\":\"Web, Use of UIWebView\",\"label\":\"Web, Use of UIWebView\",\"rect\":{\"origin\":{\"y\":372,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"21\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":372,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"20\"},{\"name\":\"Segment, Various uses of UISegmentedControl\",\"value\":null,\"children\":[{\"name\":\"Segment, Various uses of UISegmentedControl\",\"value\":\"Segment, Various uses of UISegmentedControl\",\"label\":\"Segment, Various uses of UISegmentedControl\",\"rect\":{\"origin\":{\"y\":416,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"23\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":416,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"22\"},{\"name\":\"Toolbar, Uses of UIToolbar\",\"value\":null,\"children\":[{\"name\":\"Toolbar, Uses of UIToolbar\",\"value\":\"Toolbar, Uses of UIToolbar\",\"label\":\"Toolbar, Uses of UIToolbar\",\"rect\":{\"origin\":{\"y\":460,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"25\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":460,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"24\"},{\"name\":\"Alerts, Various uses of UIAlertView, UIActionSheet\",\"value\":null,\"children\":[{\"name\":\"Alerts, Various uses of UIAlertView, UIActionSheet\",\"value\":\"Alerts, Various uses of UIAlertView, UIActionSheet\",\"label\":\"Alerts, Various uses of UIAlertView, UIActionSheet\",\"rect\":{\"origin\":{\"y\":504,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"27\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":504,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"26\"},{\"name\":\"Transitions, Shows UIViewAnimationTransitions\",\"value\":null,\"children\":[{\"name\":\"Transitions, Shows UIViewAnimationTransitions\",\"value\":\"Transitions, Shows UIViewAnimationTransitions\",\"label\":\"Transitions, Shows UIViewAnimationTransitions\",\"rect\":{\"origin\":{\"y\":548,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAStaticText\",\"ref\":\"29\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":548,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIATableCell\",\"ref\":\"28\"}],\"label\":\"Empty list\",\"rect\":{\"origin\":{\"y\":64,\"x\":0},\"size\":{\"height\":416,\"width\":320}},\"type\":\"UIATableView\",\"ref\":\"5\"},{\"name\":null,\"value\":null,\"children\":[{\"name\":null,\"value\":null,\"label\":null,\"rect\":{\"origin\":{\"y\":480,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAImage\",\"ref\":\"30\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":480,\"x\":0},\"size\":{\"height\":44,\"width\":320}},\"type\":\"UIAToolbar\",\"ref\":\"30\"}],\"label\":null,\"rect\":{\"origin\":{\"y\":0,\"x\":0},\"size\":{\"height\":480,\"width\":320}},\"type\":\"UIAWindow\",\"ref\":\"1\"}";

  private JSONObject tree;

  @BeforeClass
  public void setup() throws JSONException {
    tree = new JSONObject(example);
  }


  @Test
  public void canTransformToJSTreeFormat() throws JSONException, IOSAutomationException {
    new JSTree(new IOSApplication(SampleApps.getUICatalogFile()), tree);
  }

}
